<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>Selective Search for Object Recognition | secrul</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://secrul.github.io/favicon.ico?v=1600838194466">
<link rel="stylesheet" href="https://secrul.github.io/styles/main.css">


  
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css" />
  

  


<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>



    <meta name="description" content="#概论
本文解决了图像识别中生成物体可能位置的问题。我们提出了选择性搜索，它结合了穷尽搜索和分割的优点。与分割类似，我们使用图像结构来指导采样过程，像穷尽搜索一样，我们的目标是捕获所有可能的目标位置。我们不再使用单一的技术来生成可能的目标位..." />
    <meta name="keywords" content="" />
  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://secrul.github.io">
        <img src="https://secrul.github.io/images/avatar.png?v=1600838194466" class="site-logo">
        <h1 class="site-title">secrul</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            首页
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            文章
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            标签
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            关于
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
          <a class="social-link" href="https://github.com/secrul" target="_blank">
            <i class="fab fa-github"></i>
          </a>
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      温故而知新
    </div>
    <div class="site-footer">
      &copy 2020 by secrul. All rights reserved. | <a class="rss" href="https://secrul.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">Selective Search for Object Recognition</h2>
            <div class="post-date">2020-08-20</div>
            
            <div class="post-content" v-pre>
              <p>#概论<br>
本文解决了图像识别中生成物体可能位置的问题。我们提出了选择性搜索，它结合了穷尽搜索和分割的优点。与分割类似，我们使用图像结构来指导采样过程，像穷尽搜索一样，我们的目标是捕获所有可能的目标位置。我们不再使用单一的技术来生成可能的目标位置，而是使搜索多样化，并使用各种互补的图像分割来处理尽可能多的图像条件。我们的选择性搜索结果是一个小集合的数据驱动，类无关，高质量的地点，产生99%的召回率和平均最佳重叠0.879在10097个地点。与穷尽搜索相比，位置的数量减少，因此可以使用更强的机器学习技术和更强的外观模型进行对象识别。在本文中，我们展示了我们的选择性搜索能够使用强大的词袋模型进行识别。选择性搜索软件是公开。<br>
#导论<br>
很长一段时间以来，人们都在识别物体之前先对其进行描述。这就产生了分割，它的目标是通过一个通用算法对图像进行独特的分割，在这个分割中每部分都对应着每个物体的轮廓。在分割这个问题上，过去很多年产生了大量的进展。但是图像本质上是层次化的，在图1a中，沙拉和勺子在沙拉碗里面，沙拉碗又在桌子上。此外，根据上下文，此图中的术语表可以仅指木材或包括表上的所有内容。因此，图像的性质和对象类别的不同用途都是分层的。这将禁止对所有对象进行唯一的分区，但大多数特定的用途除外。因此，对于大多数任务来说，在一个分割中使用多个尺度是必要的。这是最自然地通过使用层次划分来解决的，例如Arbelaez等人所做的那样。<br>
不仅仅分割应该是分层的，一个使用单一策略的通用分割方法也许不存在。为什么一个区域应该组合在一起有很多复杂的原因：在图1b中，可以使用颜色将猫分开，但是它们的纹理是相同的。相反，在图1c中，变色龙在颜色上与周围的叶子相似，但其质地不同。最后，在图1d中，车轮在颜色和质地上与汽车大不相同，但却被汽车包围着。因此，单个视觉特征不能解决分割的模糊性。<br>
最后，还有一个更根本的问题。具有非常不同特征的区域，例如毛衣上的一张脸，只有在确定手边的对象是人之后，才能将其组合成一个对象。因此，如果没有事先的识别，很难确定一张脸和一件毛衣是同一物体的一部分。<br>
这导致了与传统方法相反的结果：通过识别对象来进行定位。最近这种物体识别方法在不到十年的时间里取得了巨大的进步[8,12,16,35]。利用从示例中学习的外观模型，执行穷尽搜索，其中检查图像中的每个位置，以确保不会遗漏任何潜在的对象位置。<br>
但是，穷尽搜索本身有着几个缺点，搜索每一个可能的位置计算量太大，不可能实现。必须通过使用规则网格、固定比例和固定纵横比来减少搜索空间。在大多数情况下，搜索点的数量仍然很大，以至于需要实施其他限制。分类更简单，模型需要很快。此外，一个统一的抽样会产生很明显它们并不包含某个物体的方框。一个关键问题是：我们能否通过数据驱动的分析来指导抽样工作，而不是盲目地使用穷尽式搜索来进行抽样调查？<br>
在这篇文章中，我们的目的是结合分割和穷举搜索的优点，提出一种数据驱动的选择性搜索。受自底向上分割的启发，我们的目标是利用图像的结构来生成目标位置。受详尽搜索的启发，我们的目标是捕捉所有可能的物体位置。因此，我们的目标是使采样技术多样化，以尽可能多地考虑图像条件，而不是使用单一的采样技术。具体来说，我们使用基于数据驱动的分组策略，通过使用各种互补分组标准和具有不同不变性属性的各种互补颜色空间来增加多样性。位置集是通过组合这些互补分区的位置来获得的。我们的目标是生成一个独立于类的、数据驱动的、选择性的搜索策略，该策略可以生成一小组高质量的对象位置。<br>
选择性搜索的应用领域是目标识别。因此，我们对最常用的数据集进行评估，即Pascal VOC检测挑战，它由20个对象类组成。这个数据集的大小产生了选择性搜索的计算约束。此外，此数据集的使用意味着位置的质量主要是根据边界框来评估的。然而，我们的选择性搜索同样适用于区域，也适用于“草”等概念。<br>
本文提出了一种选择性搜索的目标识别方法。我们的主要研究问题是：<br>
（1）什么是好的分散策略，以适应分割作为选择性搜索策略？<br>
（2） 选择性搜索在图像中创建一小组高质量的位置有多有效？<br>
（3） 我们可以使用选择性搜索来使用更强大的分类器和外观模型来进行物体识别吗？<br>
#2、相关工作<br>
我们定义了与目标识别领域相关的工作，并将其分为三类：穷尽搜索、分割和其他不属于这两类的采样策略。<br>
##2、1穷尽搜索<br>
由于一个物体可以以任何大小定位在图像中的任何位置，所以很自然地用穷尽搜索[8,16,36]。然而，视觉搜索的空间是巨大的，使得穷尽式搜索的计算成本很高。这对每个地点的评估成本和/或考虑的地点数量施加了限制。因此，大多数滑动窗口技术使用粗糙的搜索网格和固定的纵横比，使用弱分类和经济图像特征，如HOG。这种方法通常被用作一系列分类器的预选步骤。<br>
与滑动窗口技术相关的是Felzenszwalb等人非常成功的基于零件的目标定位方法。他们的方法还使用SVM和HOG特征进行穷举搜索。然而，他们搜索对象或者对象部分，它们的组合会产生令人印象深刻的对象检测性能。<br>
Lampert等人提出用外观模型来指导搜索。这既减轻了使用常规网格、固定比例和固定纵横比的限制，同时也减少了访问地点的数量。这是通过使用分支定界技术在图像中直接搜索最佳窗口来完成的。虽然他们在线性分类器方面取得了令人印象深刻的结果，[1]发现对于非线性分类器，这种方法在实际应用中对每张图像的访问量仍然超过100000个窗口。<br>
我们提出了选择性搜索，而不是盲目的穷举搜索或分支定界搜索。我们使用底层图像结构来生成对象位置。与所讨论的方法不同，这会产生一个完全独立于类的位置集。此外，由于我们不使用固定的纵横比，我们的方法不仅限于对象，而且应该能够找到“草”和“沙”之类的东西（这也适用于[17]）。最后，我们希望生成更少的位置，这将使问题变得更容易，因为样本的可变性变得更低。更重要的是，它释放了计算能力，可用于更强大的机器学习技术和更强大的外观模型。<br>
##2.2分割<br>
我们提出了选择性搜索，而不是盲目的穷举搜索或分支定界搜索。我们使用底层图像结构来生成对象位置。与所讨论的方法不同，这会产生一个完全独立于类的位置集。此外，由于我们不使用固定的纵横比，我们的方法不仅限于对象，而且应该能够找到“草”和“沙”之类的东西（这也适用于[17]）。最后，我们希望生成更少的位置，这将使问题变得更容易，因为样本的可变性变得更低。更重要的是，它释放了计算能力，可用于更强大的机器学习技术和更强大的外观模型。<br>
我们提出了选择性搜索，而不是盲目的穷举搜索或分支定界搜索。我们使用底层图像结构来生成对象位置。与所讨论的方法不同，这会产生一个完全独立于类的位置集。此外，由于我们不使用固定的纵横比，我们的方法不仅限于对象，而且应该能够找到“草”和“沙”之类的东西（这也适用于[17]）。最后，我们希望生成更少的位置，这将使问题变得更容易，因为样本的可变性变得更低。更重要的是，它释放了计算能力，可用于更强大的机器学习技术和更强大的外观模型。<br>
##2.3其他采用策略<br>
Alexe等人通过建议搜索任何独立于类的对象来解决穷举搜索的采样空间大的问题。在他们的方法中，他们训练了一个分类的对象窗口，这些对象具有明确的形状（而不是像“草”和“沙”）。然后，他们不再进行全面彻底的搜索，而是随机抽取他们所应用的分类框的样本。具有最高“客观性”度量的方框充当一组对象假设。然后使用该集合极大地减少由类特定对象检测器评估的窗口数。我们把我们的方法和他们的工作作了比较。<br>
另一种策略是利用词袋模型中的视觉词来预测物体的位置。Vedaldi等人利用跳跃窗口[5]，学习单个视觉单词与目标位置之间的关系来预测新图像中的目标位置。Maji和Malik[23]将这些关系中的多个结合起来，使用Hough变换来预测对象的位置，然后在Hough最大值附近随机采样窗口。在课堂上，我们用独立的假设来对比学习对象的结构。<br>
总而言之，我们的新奇之处如下。我们使用分段作为选择性搜索，而不是穷尽搜索[8,12,16,36]，生成一小组独立于类的对象位置。与[4，9]的分割不同，我们没有关注最佳分割算法[3]，而是使用各种策略来处理尽可能多的图像条件，从而在可能精确地捕捉更多对象的同时，大大降低了计算成本。我们使用自底向上的分组过程来生成良好的对象位置，而不是学习随机采样的盒[2]上的对象度量。<br>
#3选择性搜索<br>
在这一节中，我们详细介绍了我们的选择性搜索算法的目标识别，并提出了多种多样的策略来处理尽可能多的图像条件。选择性搜索算法需要考虑以下设计因素：<br>
1. 捕获所有的大小方框：对象可以在图像中以任何大小尺度出现。此外，有些物体的边界比其他物体要模糊。因此，在选择性搜索中，必须考虑所有对象的比例，如图2所示。这是最自然地通过使用分层算法来实现的。<br>
2. 多元化：没有一个单一的最优策略将区域分组在一起。如图1所示，区域可能形成一个物体，仅仅是因为颜色，纹理，或者是因为部分被封闭。此外，光照条件，如阴影和光的颜色可能会影响区域如何形成一个对象。因此，我们希望有一套不同的策略来处理所有的情况，而不是一个在大多数情况下都有效的单一策略。<br>
3. 计算快速：选择性搜索的目标是生成一组可能的目标位置，以供在实际的对象识别框架中使用。这个集合的创建不应该成为一个计算瓶颈，因此我们的算法应该相当快。<br>
##3.1分层分组的选择性搜索<br>
我们的选择性搜索是基于一个分层分组算法。图像分割中大多采用自下向上的分组策略，我们也采用这个。因为整个分组过程是层次性，我们可以自然而然地在分组过程中找到所有尺度地方框。这满足要找到所有尺度和比例地方框的要求。<br>
由于图像中区域可以产生比像素更丰富的信息，因此我们希望尽可能使用基于区域的特征。为了得到一组理想情况下不跨越多个对象的小起始区域，我们使用了Felzenszwalb和Huttenlocher[13]的快速方法[3]发现非常适合于此目的。我们的分组过程如下所示。我们首先使用[13]创建初始区域。然后我们使用贪心算法迭代地将区域分组在一起：首先计算所有相邻区域之间的相似度。将两个最相似的区域组合在一起，并计算结果区域与其相邻区域之间的新相似性。重复分组最相似区域的过程，直到整个图像成为一个单独的区域。一般方法详见算法1。<br>
算法一：<br>
<strong>输入：(彩色)图像</strong><br>
<strong>输出：一系列可能的物体位置</strong><br>
<strong>通过Felzenszwalb方法获得一些初始区域R={r1,r2,r3......}</strong><br>
<strong>初始化相似集合S = 空</strong><br>
<strong>计算所有相邻区域对儿ri,rj的相似性度量s(ri,rj)，并加入到S集合</strong><br>
<strong>如果S集合不为空</strong><br>
<strong>获取S集合中的最相似的临近区域对s(ri,rj)，合并区域ri,rj为rt，rt加入集合R</strong><br>
<strong>从S集合中去除所有关于ri的相似性度量，去除所有关于rj的相似性度量</strong><br>
<strong>计算关于rt关于所有临近区域的相似性度量s(rt, ra)，并加入集合S</strong><br>
对于区域ri和rj之间的相似性s（ri，rj），我们需要在计算速度快的约束下使用多种互补测度。实际上，这意味着相似性应该基于可以通过层次结构传播的特征，即在将区域ri和rj合并为rt时，区域rt的特征需要从ri和rj的特征计算出来，而不需要访问图像像素。<br>
##3.2多样性策略<br>
选择搜索的第二个设计准则是使抽样多样化，并创建一组互补策略，这些策略的位置随后被组合在一起。我们使我们的选择性搜索多样化：（1）使用具有不同不变性属性的各种颜色空间；（2）使用不同的相似性度量sij；（3）通过改变起始区域<br>
1. 多样的颜色空间：我们要考虑不同的场景和照明条件。因此，我们在具有一系列不变性的颜色空间中执行我们的分层分组算法。具体地说，我们使用以下不变度增加的颜色空间：（1）RGB，（2）强度（灰度图像）I，（3）Lab，（4）归一化RGB的rg通道加上表示为rgI的强度，（5）HSV，（6）表示为RGB的归一化RGB，（7）C[14]这是一个划分强度的对手颜色空间，最后（8）来自HSV的色调通道H。表1列出了具体的不变性特性。当然，对于黑白图像，颜色空间的变化对算法的最终结果几乎没有影响。对于这些图像，我们依靠其他分散方法来确保良好的目标位置。在本文中，我们在整个算法中始终使用单一颜色空间，这意味着[13]中的初始分组算法和我们随后的分组算法都是在这个颜色空间中执行的。<br>
2. 多样的相似性度量：我们定义了四个互补的、快速计算的相似性度量。这些度量值都在[0,1]范围内，这有助于这些度量值的组合。<br>
<strong>颜色</strong><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mrow><mi>c</mi><mi>o</mi><mi>l</mi><mi>o</mi><mi>r</mi></mrow></msub><mo>(</mo><msub><mi>r</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>j</mi></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">S_{color}(r_i,r_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>,度量颜色的相似性，具体说，对于每个区域的每个颜色通道，我们得到一个包含25个柱子的一维直方图<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>C</mi><mi>i</mi></msub><mo>=</mo><mo>{</mo><mrow><msubsup><mi>c</mi><mi>i</mi><mn>1</mn></msubsup><mo separator="true">,</mo><msubsup><mi>c</mi><mi>i</mi><mn>2</mn></msubsup><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msup><mi>c</mi><mn>2</mn></msup><msub><mn>5</mn><mi>i</mi></msub></mrow><mo>}</mo></mrow><annotation encoding="application/x-tex">C_i = \{{c^1_i, c^2_i,.....c^25_i}\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.072772em;vertical-align:-0.258664em;"></span><span class="mopen">{</span><span class="mord"><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord"><span class="mord">5</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span>，当时RGB三通道每个区域就是75个柱子.颜色直方图用L1正则化进行归一化，相似性度量可以用下面公式表示：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>s</mi><mrow><mi>c</mi><mi>o</mi><mi>l</mi><mi>o</mi><mi>r</mi></mrow></msub><mo>(</mo><msub><mi>r</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>j</mi></msub><mo>)</mo><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mi>m</mi><mi>i</mi><mi>n</mi><mo>(</mo><msubsup><mi>c</mi><mi>i</mi><mi>k</mi></msubsup><mo separator="true">,</mo><msubsup><mi>c</mi><mi>j</mi><mi>k</mi></msubsup><mo>)</mo></mrow><annotation encoding="application/x-tex">s_{color}(r_i,r_j) =  \sum _{k=1}^n min(c_i^k, c_j^k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2438799999999999em;vertical-align:-0.394772em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.394772em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><br>
合并后区域rt的颜色直方图用下图计算:<br>
<img src="https://secrul.github.io/post-images/1598100440428.png" alt="" loading="lazy"><br>
区域rt的大小就是区域ri和rj大小之和<br>
<strong>纹理</strong><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mrow><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mi>u</mi><mi>r</mi><mi>e</mi></mrow></msub><mo>(</mo><msub><mi>r</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>j</mi></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">S_{texture}(r_i,r_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">x</span><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">u</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>：我们使用类似SIFT的快速测量来表示纹理，因为SIFT本身对于材料识别非常有效[20]。我们对每个颜色通道使用σ=1在八个方向上取高斯导数。对于每个颜色通道的每个方向，我们使用10的bin大小提取直方图。这导致当使用三个颜色通道时，每个区域ri的纹理直方图Ti={t1 i，···，tn i}，维数n=240。纹理直方图使用L1标准化。使用直方图交集测量相似度：<br>
<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>s</mi><mrow><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mi>u</mi><mi>r</mi><mi>e</mi></mrow></msub><mo>(</mo><msub><mi>r</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>j</mi></msub><mo>)</mo><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mi>m</mi><mi>i</mi><mi>n</mi><mo>(</mo><msubsup><mi>c</mi><mi>i</mi><mi>k</mi></msubsup><mo separator="true">,</mo><msubsup><mi>c</mi><mi>j</mi><mi>k</mi></msubsup><mo>)</mo></mrow><annotation encoding="application/x-tex">s_{texture}(r_i,r_j) =  \sum _{k=1}^n min(c_i^k, c_j^k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">x</span><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">u</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2438799999999999em;vertical-align:-0.394772em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.394772em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><br>
<strong>大小尺度</strong><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mrow><mi>s</mi><mi>i</mi><mi>z</mi><mi>e</mi></mrow></msub><mo>(</mo><msub><mi>r</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>j</mi></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">S_{size}(r_i,r_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="mord mathdefault mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>鼓励小尺度的区域早点合并。这迫使S中的区域，即尚未合并的区域，在整个算法中具有相似的大小。这是可取的，因为它可以确保在图像的所有部分创建所有比例的对象位置。例如，它可以防止一个地区一个接一个地吞噬所有其他地区，只在这个增长地区的位置产生所有规模，而没有其他地方。<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>s</mi><mrow><mi>s</mi><mi>i</mi><mi>z</mi><mi>e</mi></mrow></msub><mi mathvariant="normal">（</mi><mi>r</mi><mi>i</mi><mi mathvariant="normal">，</mi><mi>r</mi><mi>j</mi><mi mathvariant="normal">）</mi></mrow><annotation encoding="application/x-tex">s_{size}（ri，rj）</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="mord mathdefault mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">（</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">i</span><span class="mord cjk_fallback">，</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord cjk_fallback">）</span></span></span></span>定义为ri和rj共同占据的图像的分数：<br>
<img src="https://secrul.github.io/post-images/1598100448148.png" alt="" loading="lazy"><br>
size代表区域内像素点个数<br>
<strong>重合</strong>衡量区域ri和rj的相互融合程度。这个想法是为了填补空白：如果ri包含在rj中，为了避免任何漏洞，首先合并这些是合乎逻辑的。另一方面，如果ri和rj几乎不接触，它们很可能形成一个奇怪的区域，不应该合并。为了使度量保持快速，我们只使用区域和包含框的大小。具体而言，我们将BBij定义为围绕ri和rj的紧密边界框。现在s fill（ri，rj）是包含在BBij中的图像的分数，它不被ri和rj区域覆盖：<br>
<img src="https://secrul.github.io/post-images/1598100453807.png" alt="" loading="lazy"><br>
请注意，通过跟踪每个区域周围的边界框，可以有效地计算此度量，因为两个区域周围的边界框可以很容易地从中导出。<br>
在本篇文章中，最终的相似性度量是上述四个的结合：<br>
<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mo>(</mo><msub><mi>r</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>j</mi></msub><mo>)</mo><mo>=</mo><msub><mi>a</mi><mn>1</mn></msub><mo>∗</mo><msub><mi>s</mi><mrow><mi>c</mi><mi>o</mi><mi>l</mi><mi>o</mi><mi>r</mi></mrow></msub><mo>(</mo><msub><mi>r</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>j</mi></msub><mo>)</mo><mo>+</mo><msub><mi>a</mi><mn>2</mn></msub><mo>∗</mo><msub><mi>s</mi><mrow><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mi>u</mi><mi>r</mi><mi>e</mi></mrow></msub><mo>(</mo><msub><mi>r</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>j</mi></msub><mo>)</mo><mo>+</mo><msub><mi>a</mi><mn>3</mn></msub><mo>∗</mo><msub><mi>s</mi><mrow><mi>s</mi><mi>i</mi><mi>z</mi><mi>e</mi></mrow></msub><mo>(</mo><msub><mi>r</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>j</mi></msub><mo>)</mo><mo>+</mo><msub><mi>a</mi><mn>4</mn></msub><mo>∗</mo><msub><mi>s</mi><mrow><mi>f</mi><mi>i</mi><mi>l</mi><mi>l</mi></mrow></msub><mo>(</mo><msub><mi>r</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>j</mi></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">s(r_i,r_j) = a_1*s_{color}(r_i,r_j) + a_2 * s_{texture}(r_i,r_j) + a_3 * s_{size}(r_i,r_j) + a_4 * s_{fill}(r_i,r_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.61528em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.61528em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">x</span><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">u</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.61528em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="mord mathdefault mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.61528em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><br>
其中ai∈{0,1}表示是否使用相似性度量。由于我们的目标是使我们的策略多样化，我们不考虑任何加权的相似性。<br>
3. 初始区域多样化：第三种多元化策略是改变互补的起始区域。据我们所知，方法[13]是最快的，公开的算法，产生高质量的起始位置。我们找不到任何其他具有类似计算效率的算法，所以在本文中我们只使用了这种过度分段。但是请注意，不同的起始区域（已经）通过改变颜色空间得到，每个颜色空间具有不同的不变性属性。另外，我们改变了[13]中的阈值参数k。<br>
##3.3预测位置综合<br>
在本文中，我们结合了我们的分层分组算法的几种变体的目标假设。理想情况下，我们希望以这样一种方式排序对象假设，即最有可能成为对象的位置首先出现。这使得人们能够根据后续特征提取和分类方法的计算效率，在结果对象假设集的质量和数量之间找到一个良好的折衷。我们选择根据每个单独分组策略中产生假设的顺序对组合对象假设集进行排序。然而，由于我们综合了多达80种不同战略的结果，这样的秩序过于强调大区域。为了防止这种情况的发生，我们将随机性包括在下面。给定一个分组策略j，设rj i为在层次结构中的位置i处创建的区域，其中i=1表示层次结构的顶部（其对应的区域覆盖整个图像）。我们现在计算位置值vj i为RND×i，其中RND是范围[0,1]内的随机数。最终排名是通过使用vj i对地区进行排序得到的。当我们根据边界框使用位置时，我们首先对所有位置进行排名，如上文所述。只有在这之后，我们才过滤掉排名较低的重复项。这确保了重复的盒子有更好的机会获得高排名。这是可取的，因为如果多个分组策略建议相同的框位置，那么它很可能来自图像的视觉一致部分。<br>
#4.使用选择性搜索进行目前识别<br>
本文利用我们的选择性搜索产生的位置来进行目标识别。本节详细介绍了我们的对象识别框架。两种类型的特征在物体识别中占主导地位：定向梯度直方图（HOG）[8]和单词包[7,27]。Felzenszwalb等人已经证明HOG与基于零件的模型相结合是成功的。[12] 一。然而，由于它们使用穷尽搜索，HOG特征与线性分类器相结合从计算角度来看是唯一可行的选择。相比之下，我们的选择性搜索允许使用更昂贵和更强大的功能。所以我们用词包来识别物体[16，17，34]。然而，我们使用了比[16，17，34]更强大（和更昂贵）的实现，通过使用各种颜色筛选描述符[32]和更精细的空间金字塔划分[18]。具体来说，我们在单个尺度上对每个像素的描述符进行采样（σ=1.2）。利用文献[32]中的软件，我们提取了SIFT[21]和两个对检测图像结构最敏感的颜色筛，扩展对位偏移[31]和RGBSIFT[32]。我们使用一个尺寸为4000的可视码本和一个4层的空间金字塔，使用1x1、2x2、3x3。以及4x4分区。这使得特征向量的总长度为360000。在图像分类中，已经使用了这种大小的特征[25，37]。由于空间金字塔比构成HOG描述子的单元产生更粗糙的空间细分，因此我们的特征包含的关于对象特定空间布局的信息较少。因此，HOG更适合于刚性对象，而我们的特征更适合于可变形对象类型。作为分类，我们使用Shogun工具箱[28]使用直方图交集核的支持向量机[28]。为了应用训练有素的分类器，我们使用了[22]的快速近似分类策略，在[30]中，该策略对单词包非常有效。我们的培训程序如图3所示。初始的正例子由所有地面真实物体窗口组成。作为最初的否定例子，我们从所有的对象位置选择我们的选择性搜索，有20%到50%的重叠与一个积极的例子。为了避免近乎重复的反面示例，如果一个负数与另一个负数重叠超过70%，则将其排除在外。为了使每堂课的初始负片数保持在20000以下，我们随机将汽车、猫、狗和人这几个类的底片减半。直观地说，这组例子可以被看作是接近正面例子的困难的否定。这意味着它们接近决策边界，因此，即使考虑到全套否定，它们也可能成为支持向量。事实上，我们发现，这些训练示例的选择提供了相当好的初始分类模型。然后我们进入一个再训练阶段，迭代地添加硬的否定例子（例如[12]）：我们使用我们的选择性搜索生成的位置将所学习的模型应用于训练集。对于每张底片，我们加上得分最高的位置。由于我们的初始训练集已经产生了好的模型，我们的模型只在两次迭代中收敛。对于测试集，最终模型适用于我们选择性搜索生成的所有位置。窗口按分类分数排序，而与较高评分窗口重叠超过30%的窗口被视为接近重复项并被删除。<br>
<a href="https://github.com/AlpacaDB/selectivesearch">python代码</a></p>

            </div>
            
            
              <div class="next-post">
                <div class="next">下一篇</div>
                <a href="https://secrul.github.io/post/mu-biao-jian-ce-yolov1/">
                  <h3 class="post-title">
                    目标检测-YOLOV1
                  </h3>
                </a>
              </div>
            

            
              
                <div id="gitalk-container" data-aos="fade-in"></div>
              

              
            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="application/javascript">

AOS.init();

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>





  
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>

      var gitalk = new Gitalk({
        clientID: '',
        clientSecret: '',
        repo: '',
        owner: '',
        admin: [''],
        id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
        distractionFreeMode: false  // Facebook-like distraction free mode
      })

      gitalk.render('gitalk-container')

    </script>
  

  




  </body>
</html>
